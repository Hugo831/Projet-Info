package projet;

import javax.swing.*;
import java.awt.*;

public class Panneau extends JPanel implements Runnable {               // runnable est une interface qui permet de faire une boucle infinie
    private Plateau_Jeu plateau;
    private Souris souris;
    private int Width;
    private int Height;
    private Bouton bouton;
    private Joueur joueur;

    public Panneau(int width, int height, Fenetre fenetre){
        souris = new Souris(this, fenetre);
        this.Width = width;
        this.Height = height;
        fenetre.addMouseListener(souris);                 // le parametre est le composant que l'on doit ecouter et Souris a le comportement de Mouse Listener et MouseMotionListener
        fenetre.addMouseMotionListener(souris);
        plateau = new Plateau_Jeu();
        bouton = new Bouton("Start", 120,50,275,this.getHeight() - 50, this, fenetre);
        joueur = new Joueur(0,100);


    }

    public void paintComponent(Graphics graphics) {
        graphics.clearRect(0,0, getWidth(),getHeight());
        plateau.affichage_grille(graphics);
        bouton.draw(graphics);
        joueur.draw(graphics);
        plateau.affichage_pnj(graphics);

    }

    public void run() {
        while (true){
            repaint();
            try{
                Thread.sleep(5);
            }
            catch(Exception e){

            }
        }


    }
    public int getWidth(){
        return Width;
    }
    public int getHeight(){
        return Height;
    }
    public Point getSouris(){
        return souris;
    }
    public void setSouris(int x, int y){
        this.souris.setLocation(x,y);
        this.souris.move(x,y);
    }
}
